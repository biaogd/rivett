# Rivett Roadmap（跨平台 / 本地优先 / Git 同步）

本文基于你的目标：跨平台、默认本地存储、可选 Git 同步、SFTP、端口转发与高安全性，给出分阶段的详细 roadmap。

## 产品原则（贯穿全周期）

- 默认极简：仅展示高频功能
- 高级能力可发现：命令面板 / 高级设置 / 右键菜单
- 安全优先：本地加密 + 密钥隔离 + 可审计
- 跨平台一致：macOS/Windows/Linux 行为一致

## 当前能力

- SSH + 本地 Shell 会话
- 终端渲染 + 复制/粘贴
- 会话列表 + 快速连接
- 输入法（中文）支持与预编辑显示

## 竞品概览

- Xshell：功能全面、偏企业，隧道/脚本/日志成熟。
- Termius：跨平台体验好、云同步、密钥管理强。
- Tabby：开源、插件生态强、多协议灵活。
- 本项目：轻量快速、IM​E 体验在补齐中。

## Phase 0（0–2 周）：稳定性与体验基线

目标：把输入/渲染/交互做到稳定可靠，形成体验口碑。

- 输入体验
  - IME 预编辑、光标对齐、宽字符处理
  - 粘贴：括号粘贴、分块节流、保留换行
- 性能与稳定
  - 大量输出不卡顿、不丢字
  - 断线重连与错误提示
- 交互一致性
  - 复制/粘贴/选择行为对齐主流终端
- 主题与设置（基础版）
  - 主题切换（明暗/自定义配色）
  - 基础设置入口（字体/字号/行高/快捷键）
  - 设置实时生效（监听本地配置变更，无需切回主窗口）

## Phase 1（3–6 周）：基础能力补齐

目标：成为可替代的日常工具。

- 连接基础
  - 连接超时（已实现）
  - Keepalive（心跳，已实现）
- 端口转发（v1）
  - 本地/远程/动态转发
  - 按会话保存
- SFTP（v1）
  - 文件列表、上传/下载
  - 轻量面板（不破坏主界面简洁）
- 会话管理增强
  - 搜索/排序/最近连接
  - 基础分组
  - Keys 管理（密钥列表/添加/删除/引用）
  - 终端启动配置（基础）
    - 启动命令
    - 工作目录
    - 环境变量

## Phase 2（7–12 周）：安全与本地存储体系

目标：建立“安全可信赖”的核心优势。

- 本地加密存储
  - 配置与密钥分离
  - 系统 Keychain/Keyring + fallback
- 认证完善
  - 私钥 + Agent
  - 跳板机/多跳配置
  - Agent 转发
  - Host key 校验（Strict/Ask/Accept）
- 安全提示
  - 密钥权限检查
  - 风险操作确认
  - 高级认证（可选）
    - OpenSSH 证书（私钥 + cert）
    - 硬件密钥（FIDO/U2F）
    - 自定义 auth 策略（企业集成）

## Phase 3（13–18 周）：Git 同步 + 跨平台打磨

目标：跨设备可迁移，但仍本地优先。

- Git 同步（v1）
  - 同步配置文件
  - 冲突提示与手动合并
- 配置结构标准化
  - config/ 会话与转发
  - keys/ 加密密钥
  - meta/ 版本与机器信息
- 跨平台一致性
  - 快捷键、字体、IME 行为统一

## Phase 4（长期）：差异化能力

目标：形成独特优势。

- 性能极致
  - 超高吞吐输出稳定渲染
- 工作流
  - 连接后自动脚本
  - 命令片段/宏
- 扩展
  - 轻量插件机制（WASM 插件，沙箱与权限声明）
  - 插件 Host API（命令面板、配置读写、事件订阅）
  - 命令面板 + AI 插件接口（可选能力、非强依赖）
- 安全高级
  - 操作审计日志
  - 可选端到端加密同步

## 面向竞品的差距清单

- Xshell：端口转发、脚本、日志、会话模板
- Termius：云同步、密钥管理、跨平台一致体验
- Tabby：插件生态、主题与扩展能力

## 备注

- 先稳定体验，再扩功能。
- 输入法、粘贴、选择行为需保证本地与 SSH 一致。
